<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">

<!-- to stop hibernate.session.events.log=false-->
<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
  <appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender"> 
    <param name="Target" value="System.out"/> 
<!--     <param name="StatisticalLoggingSessionEventListener" value="off"/>
 -->    <layout class="org.apache.log4j.PatternLayout"> 
      <param name="ConversionPattern" value="%-5p %c{1} - %m%n"/> 
    </layout> 
  </appender> 

    <!-- appender name="iq_out" class="org.apache.log4j.FileAppender">
      <param name="File" value="./iq_out.log"/>
      <param name="Append" value="true"/>
      <layout class="org.apache.log4j.PatternLayout">
         <param name="ConversionPattern" value="%d %-5p %C.%M - %m%n"/>
      </layout>
    </appender-->
    
    <!-- appender name="iq_out_error" class="org.apache.log4j.FileAppender">
      <param name="File" value="./iq_out222.log"/>
      <param name="Append" value="true"/>
      <layout class="org.apache.log4j.PatternLayout">
         <param name="ConversionPattern" value="%d %-5p %C.%M - %m%n"/>
      </layout>
    </appender-->

	<appender name="file" class="org.apache.log4j.RollingFileAppender">
	   <param name="append" value="false" />
	   <param name="maxFileSize" value="10MB" />
	   <param name="maxBackupIndex" value="5" />
	   <param name="Threshold" value="DEBUG"/>
	   <param name="file" value="${catalina.home}/logs/iq_out.log" />
	   <layout class="org.apache.log4j.PatternLayout">
		<param name="ConversionPattern" 
			value="%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n" />
	   </layout>
	</appender>
	
	<appender name="error_file" class="org.apache.log4j.RollingFileAppender">
	   <param name="append" value="false" />
	   <param name="maxFileSize" value="10MB" />
	   <param name="maxBackupIndex" value="5" />
	   <param name="Threshold" value="ERROR"/>
	   <param name="file" value="${catalina.home}/logs/iq_out_error.log" />
	   <layout class="org.apache.log4j.PatternLayout">
		<param name="ConversionPattern" 
			value="%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n" />
	   </layout>
	</appender>

<!-- <logger name="error.unhandled">
    <level value="DEBUG"/>
    <appender-ref ref="CONSOLE" />
</logger> -->

<logger name="org.hibernate.loader.hql">
	<level value="DEBUG"/>
	<appender-ref ref="CONSOLE"/>
</logger>

<Logger name="org.hibernate.SQL" level="DEBUG" />

<logger name="org.imagequiz">
	<level value="DEBUG"/>
</logger>


<!-- Logger name="org.hibernate.jdbc" level="debug" /-->
<!-- Logger name="org.hibernate.transaction" level="debug" /-->
<!-- Logger name="org.hibernate.SQL" level="debug" /-->



  <root> 
    <priority value ="ERROR" /> 
    <appender-ref ref="CONSOLE" />
    <appender-ref ref="file"/>
    <appender-ref ref="error_file"/>
    <!-- appender-ref ref="iq_out_error"/-->
  </root>
  
</log4j:configuration>